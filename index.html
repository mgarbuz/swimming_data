<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ú–∏—Ö–∞–∏–ª –ì–∞—Ä–±—É–∑ ‚Äî –ø—Ä–æ–≥—Ä–µ—Å—Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤</title>
    <style>
		.video-link {
			display: inline-block;
			margin-left: 8px;
			text-decoration: none;
			font-size: 1.2rem;
			transition: transform 0.2s;
		}

		.video-link:hover {
			transform: scale(1.2);
		}
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
        }

        body {
            background-color: #f4f7fa;
            display: flex;
            justify-content: center;
            padding: 20px;
        }

        .container {
            max-width: 1000px;
            width: 100%;
            background: white;
            border-radius: 24px;
            box-shadow: 0 20px 35px -8px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }

        /* –§–∏–æ–ª–µ—Ç–æ–≤–∞—è —à–∞–ø–∫–∞ */
        .header {
            background: linear-gradient(135deg, #7c3aed, #a855f7);
            padding: 28px 32px;
            color: white;
        }

        .breadcrumb {
            font-size: 0.9rem;
            opacity: 0.8;
            margin-bottom: 16px;
        }

        .breadcrumb a {
            color: white;
            text-decoration: none;
            opacity: 0.9;
        }

        .breadcrumb span {
            font-weight: 500;
        }

        .athlete-title {
            font-size: 2.4rem;
            font-weight: 700;
            margin-bottom: 16px;
            letter-spacing: -0.02em;
        }

        .athlete-meta {
            display: flex;
            gap: 32px;
            font-size: 1.2rem;
            font-weight: 500;
            background: rgba(255,255,255,0.15);
            padding: 16px 24px;
            border-radius: 60px;
            backdrop-filter: blur(4px);
            width: fit-content;
        }

        .athlete-meta span {
            display: flex;
            align-items: center;
            gap: 6px;
        }

        /* –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç */
        .content {
            padding: 32px;
            background: white;
        }

        /* –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Ä–∞–∑–¥–µ–ª–∞ –∏ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª–∏ */
        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 28px;
            flex-wrap: wrap;
            gap: 15px;
        }

        .section-header h2 {
            font-size: 1.8rem;
            font-weight: 700;
            color: #0f172a;
        }

        .pool-tabs {
            display: flex;
            gap: 10px;
            background: #f1f5f9;
            padding: 5px;
            border-radius: 40px;
        }

        .pool-tab {
            padding: 8px 28px;
            border-radius: 40px;
            font-weight: 600;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.2s;
            border: none;
            background: transparent;
            color: #475569;
        }

        .pool-tab.active {
            background: white;
            color: #7c3aed;
            box-shadow: 0 4px 10px rgba(0,0,0,0.05);
        }

        /* –¢–∞–±–ª–∏—Ü–∞ –ª—É—á—à–∏—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ */
        .results-table {
            width: 100%;
            border-collapse: collapse;
            background: white;
            border-radius: 24px;
            overflow: hidden;
            box-shadow: 0 5px 20px rgba(0,0,0,0.02);
            margin-bottom: 24px;
        }

        .results-table th {
            text-align: left;
            padding: 20px 20px 12px 20px;
            font-weight: 600;
            font-size: 0.95rem;
            text-transform: uppercase;
            letter-spacing: 0.03em;
            color: #64748b;
            border-bottom: 2px solid #e2e8f0;
        }

        .results-table td {
            padding: 12px 20px;
            border-bottom: 1px solid #edf2f7;
            font-size: 1rem;
        }

        .results-table tbody tr:hover td {
            background-color: #faf9ff;
        }

        .result-value {
            font-weight: 700;
            color: #0f172a;
            font-family: 'SF Mono', 'Courier New', monospace;
            background: #f1f0ff;
            padding: 6px 16px;
            border-radius: 40px;
            display: inline-block;
            font-size: 1rem;
        }

        .no-data {
            color: #94a3b8;
            font-style: italic;
            padding: 6px 16px;
        }

        .view-all-btn {
            text-align: right;
            margin-top: 20px;
        }

        .view-all-btn button {
            color: #7c3aed;
            text-decoration: none;
            font-weight: 600;
            font-size: 1.1rem;
            display: inline-flex;
            align-items: center;
            gap: 5px;
            border: none;
            background: none;
            cursor: pointer;
            border-bottom: 2px solid transparent;
            transition: border-color 0.2s;
            padding: 0;
        }

        .view-all-btn button:hover {
            border-bottom-color: #7c3aed;
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è –±–ª–æ–∫–∞ "–í—Å–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã" */
        .detailed-results {
            margin-top: 40px;
            display: none;
        }

        .detailed-results.visible {
            display: block;
        }

        .detailed-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 24px;
            padding-bottom: 16px;
            border-bottom: 2px solid #7c3aed;
        }

        .detailed-header h3 {
            font-size: 1.5rem;
            font-weight: 600;
            color: #0f172a;
        }

        .discipline-filter {
            display: flex;
            gap: 10px;
            background: #f1f5f9;
            padding: 5px;
            border-radius: 40px;
        }

        .discipline-btn {
            padding: 6px 20px;
            border-radius: 40px;
            font-weight: 500;
            font-size: 0.95rem;
            cursor: pointer;
            border: none;
            background: transparent;
            color: #475569;
        }

        .discipline-btn.active {
            background: white;
            color: #7c3aed;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }

        .discipline-section {
            margin-bottom: 40px;
        }

        .discipline-title {
            font-size: 1.4rem;
            font-weight: 600;
            color: #0f172a;
            text-align: center;
            margin: 30px 0 20px 0;
            padding-bottom: 10px;
            border-bottom: 2px dashed #7c3aed40;
        }

        .results-grid {
            background: white;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.03);
        }

        .results-grid-header {
            display: grid;
            grid-template-columns: 3fr 1fr 1.5fr 1fr;
            padding: 16px 24px;
            background: #f8fafc;
            font-weight: 600;
            color: #475569;
            border-bottom: 2px solid #e2e8f0;
        }

        .results-grid-row {
            display: grid;
            grid-template-columns: 3fr 1fr 1.5fr 1fr;
            padding: 14px 24px;
            border-bottom: 1px solid #edf2f7;
            transition: background-color 0.2s;
        }

        .results-grid-row:hover {
            background-color: #faf9ff;
        }

        .results-grid-row.best-result {
            background-color: #f1f0ff;
            border-left: 4px solid #7c3aed;
        }

        .results-grid-row.best-result .result-time {
            color: #7c3aed;
            font-weight: 700;
        }

        .result-time {
            font-weight: 600;
            color: #0f172a;
            font-family: 'SF Mono', monospace;
        }

        /* –ë–ª–æ–∫ —Å –≥—Ä–∞—Ñ–∏–∫–∞–º–∏ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ */
        .progress-section {
            margin-top: 48px;
            border-top: 2px dashed #cbd5e1;
            padding-top: 32px;
        }

        .progress-title {
            font-size: 1.5rem;
            font-weight: 600;
            color: #0f172a;
            margin-bottom: 24px;
        }

        .charts-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 24px;
            margin-bottom: 30px;
        }

        .chart-card {
            background: #f8fafc;
            border-radius: 20px;
            padding: 20px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.02);
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .chart-card.clickable:hover {
            transform: translateY(-4px);
            box-shadow: 0 12px 20px rgba(124, 58, 237, 0.1);
        }

        .chart-card h3 {
            font-size: 1.2rem;
            font-weight: 600;
            color: #1e293b;
            margin-bottom: 16px;
            padding-bottom: 8px;
            border-bottom: 2px solid #e2e8f0;
        }

        .chart-container {
            position: relative;
            height: 180px;
            width: 100%;
            margin-bottom: 10px;
        }

        .line-graph {
            width: 100%;
            height: 100%;
        }

        .chart-note {
            font-size: 0.8rem;
            color: #64748b;
            text-align: center;
            margin-top: 12px;
            font-style: italic;
        }

        .no-data-message {
            text-align: center;
            color: #94a3b8;
            padding: 40px 0;
            font-style: italic;
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è –ø–∞–Ω–µ–ª–µ–π –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏ */
        .detail-panel {
            margin-top: 30px;
            padding: 24px;
            background: #f1f5f9;
            border-radius: 24px;
            border: 2px solid #7c3aed20;
        }

        .detail-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .detail-header h4 {
            font-size: 1.3rem;
            font-weight: 600;
            color: #0f172a;
        }

        .close-btn {
            background: white;
            border: none;
            font-size: 24px;
            width: 36px;
            height: 36px;
            border-radius: 50%;
            cursor: pointer;
            color: #64748b;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }

        .close-btn:hover {
            background: #7c3aed;
            color: white;
        }

        .detail-chart-container {
            background: white;
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 20px;
            height: 350px;
        }

        .detail-list {
            max-height: 200px;
            overflow-y: auto;
            background: white;
            border-radius: 16px;
            padding: 12px;
        }

        .detail-item {
            display: flex;
            justify-content: space-between;
            padding: 10px 16px;
            border-bottom: 1px solid #edf2f7;
            font-size: 0.95rem;
        }

        .detail-item:last-child {
            border-bottom: none;
        }

        .detail-item .date {
            color: #475569;
            font-weight: 500;
            min-width: 100px;
        }

        .detail-item .result {
            font-weight: 700;
            color: #7c3aed;
            font-family: 'SF Mono', monospace;
            min-width: 70px;
        }

        .detail-item .event {
            color: #64748b;
            font-size: 0.85rem;
            margin-left: 20px;
        }

        @media (max-width: 700px) {
            .header { padding: 20px; }
            .athlete-title { font-size: 2rem; }
            .athlete-meta { flex-direction: column; gap: 10px; border-radius: 30px; }
            .section-header { flex-direction: column; align-items: stretch; }
            .pool-tabs { justify-content: center; }
            .results-grid-header, .results-grid-row { 
                grid-template-columns: 2fr 1fr 1fr 1fr;
                font-size: 0.9rem;
                padding: 12px;
                gap: 8px;
            }
            .charts-grid { grid-template-columns: 1fr; }
        }

        @media (max-width: 500px) {
            .results-grid-header, .results-grid-row { 
                grid-template-columns: 1fr;
                gap: 5px;
            }
            .results-grid-header span:not(:first-child) {
                display: none;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- –§–∏–æ–ª–µ—Ç–æ–≤–∞—è —à–∞–ø–∫–∞ -->
        <div class="header">
            <h1 class="athlete-title">–ú–∏—Ö–∞–∏–ª –ì–∞—Ä–±—É–∑</h1>
            <div class="athlete-meta">
                <span>–ì–æ–¥ —Ä–æ–∂–¥–µ–Ω–∏—è: 1997</span>
                <span>–ö–ª—É–±: –ï–Ω–∏—Å–µ–π</span>
            </div>
        </div>

        <!-- –û—Å–Ω–æ–≤–Ω–æ–π –±–ª–æ–∫ —Å –ª—É—á—à–∏–º–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ -->
        <div class="content">
            <div class="section-header">
                <h2>–õ—É—á—à–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã</h2>
                <div class="pool-tabs" role="tablist">
                    <button class="pool-tab active" role="tab" aria-selected="true">25 –º</button>
                    <button class="pool-tab" role="tab" aria-selected="false">50 –º</button>
                </div>
            </div>

            <!-- –¢–∞–±–ª–∏—Ü–∞ –ª—É—á—à–∏—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ (25 –º) -->
            <table class="results-table" id="best25">
                <thead>
                    <tr>
                        <th>–î–∏—Å—Ç–∞–Ω—Ü–∏—è</th>
                        <th>–ì–æ–¥</th>
                        <th>–†–µ–∑—É–ª—å—Ç–∞—Ç</th>
                    </tr>
                </thead>
                <tbody id="best25Body"></tbody>
            </table>

            <!-- –¢–∞–±–ª–∏—Ü–∞ –ª—É—á—à–∏—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ (50 –º) -->
            <table class="results-table" id="best50" style="display: none;">
                <thead>
                    <tr>
                        <th>–î–∏—Å—Ç–∞–Ω—Ü–∏—è</th>
                        <th>–ì–æ–¥</th>
                        <th>–†–µ–∑—É–ª—å—Ç–∞—Ç</th>
                    </tr>
                </thead>
                <tbody id="best50Body"></tbody>
            </table>

            <div class="view-all-btn">
                <button id="viewAllBtn">–°–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã ‚Üí</button>
            </div>

            <!-- –î–µ—Ç–∞–ª—å–Ω—ã–π –±–ª–æ–∫ —Å–æ –≤—Å–µ–º–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ -->
            <div id="detailedResults" class="detailed-results">
                <div class="detailed-header">
                    <h3>–í—Å–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã</h3>
                    <div class="discipline-filter" id="disciplineFilter">
                        <button class="discipline-btn active" data-discipline="all">–í—Å–µ –¥–∏—Å—Ü–∏–ø–ª–∏–Ω—ã</button>
                        <button class="discipline-btn" data-discipline="50m">50 –º</button>
                        <button class="discipline-btn" data-discipline="100m">100 –º</button>
                        <button class="discipline-btn" data-discipline="200m">200 –º</button>
                    </div>
                </div>
                
                <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ –¥–∏—Å—Ü–∏–ø–ª–∏–Ω–∞–º -->
                <div id="detailedResultsContainer"></div>
            </div>

            <!-- –ë–ª–æ–∫ —Å –≥—Ä–∞—Ñ–∏–∫–∞–º–∏ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ -->
            <div class="progress-section">
                <h3 class="progress-title">–î–∏–Ω–∞–º–∏–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤</h3>
                <div class="charts-grid" id="chartsGrid"></div>
                
                <!-- –ü–∞–Ω–µ–ª–∏ —Å –ø–æ–¥—Ä–æ–±–Ω—ã–º–∏ —Ç–æ—á–µ—á–Ω—ã–º–∏ –¥–∏–∞–≥—Ä–∞–º–º–∞–º–∏ -->
                <div id="detailPanel50" class="detail-panel" style="display: none;">
                    <div class="detail-header">
                        <h4>50 –º –Ω–∞ —Å–ø–∏–Ω–µ ‚Äî –≤—Å–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã</h4>
                        <button class="close-btn" data-close="50">√ó</button>
                    </div>
                    <div class="detail-chart-container">
                        <canvas id="detailChart50" width="800" height="300"></canvas>
                    </div>
                    <div class="detail-list" id="detailList50"></div>
                </div>

                <div id="detailPanel100" class="detail-panel" style="display: none;">
                    <div class="detail-header">
                        <h4>100 –º –Ω–∞ —Å–ø–∏–Ω–µ ‚Äî –≤—Å–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã</h4>
                        <button class="close-btn" data-close="100">√ó</button>
                    </div>
                    <div class="detail-chart-container">
                        <canvas id="detailChart100" width="800" height="300"></canvas>
                    </div>
                    <div class="detail-list" id="detailList100"></div>
                </div>

                <div id="detailPanel200" class="detail-panel" style="display: none;">
                    <div class="detail-header">
                        <h4>200 –º –Ω–∞ —Å–ø–∏–Ω–µ ‚Äî –≤—Å–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã</h4>
                        <button class="close-btn" data-close="200">√ó</button>
                    </div>
                    <div class="detail-chart-container">
                        <canvas id="detailChart200" width="800" height="300"></canvas>
                    </div>
                    <div class="detail-list" id="detailList200"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º Chart.js –∏ –∞–¥–∞–ø—Ç–µ—Ä –¥–ª—è –¥–∞—Ç (—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ –≤–µ—Ä—Å–∏–∏) -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.9.1/dist/chart.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns@2.0.0/dist/chartjs-adapter-date-fns.bundle.min.js"></script>

    <script>
        (function() {
            // --- –ò–°–•–û–î–ù–´–ï –î–ê–ù–ù–´–ï ---
            const allResults = {
                '25': [
                    // 50 –º –Ω–∞ —Å–ø–∏–Ω–µ
                    { distance: '50m', date: '2023-11-11', result: 26.25, event: 'XXX –û—Ç–∫—Ä—ã—Ç—ã–π –ö—É–±–æ–∫ –†–æ—Å—Å–∏–∏', city: '–ö–∞–∑–∞–Ω—å' },
                    { distance: '50m', date: '2023-11-12', result: 26.33, event: 'XXX –û—Ç–∫—Ä—ã—Ç—ã–π –ö—É–±–æ–∫ –†–æ—Å—Å–∏–∏', city: '–ö–∞–∑–∞–Ω—å' },
                    { distance: '50m', date: '2023-11-12', result: 26.22, event: 'XXX –û—Ç–∫—Ä—ã—Ç—ã–π –ö—É–±–æ–∫ –†–æ—Å—Å–∏–∏', city: '–ö–∞–∑–∞–Ω—å' },
                    { distance: '50m', date: '2024-11-23', result: 26.11, event: 'XXXI –û—Ç–∫—Ä—ã—Ç—ã–π –ö—É–±–æ–∫ –†–æ—Å—Å–∏–∏', city: '–ö–∞–∑–∞–Ω—å' },
                    { distance: '50m', date: '2024-11-24', result: 26.09, event: 'XXXI –û—Ç–∫—Ä—ã—Ç—ã–π –ö—É–±–æ–∫ –†–æ—Å—Å–∏–∏', city: '–ö–∞–∑–∞–Ω—å' },
                    { distance: '50m', date: '2024-11-24', result: 26.10, event: 'XXXI –û—Ç–∫—Ä—ã—Ç—ã–π –ö—É–±–æ–∫ –†–æ—Å—Å–∏–∏', city: '–ö–∞–∑–∞–Ω—å' },
                    { distance: '50m', date: '2025-11-29', result: 25.91, event: 'XXXII –û—Ç–∫—Ä—ã—Ç—ã–π –ö—É–±–æ–∫ –†–æ—Å—Å–∏–∏', city: '–ö–∞–∑–∞–Ω—å' },
                    { distance: '50m', date: '2025-11-30', result: 25.87, event: 'XXXII –û—Ç–∫—Ä—ã—Ç—ã–π –ö—É–±–æ–∫ –†–æ—Å—Å–∏–∏', city: '–ö–∞–∑–∞–Ω—å' },
                    { distance: '50m', date: '2025-11-30', result: 25.54, event: 'XXXII –û—Ç–∫—Ä—ã—Ç—ã–π –ö—É–±–æ–∫ –†–æ—Å—Å–∏–∏', city: '–ö–∞–∑–∞–Ω—å' },
                    // 100 –º –Ω–∞ —Å–ø–∏–Ω–µ
                    { distance: '100m', date: '2023-11-10', result: 57.45, event: 'XXX –û—Ç–∫—Ä—ã—Ç—ã–π –ö—É–±–æ–∫ –†–æ—Å—Å–∏–∏', city: '–ö–∞–∑–∞–Ω—å' },
                    { distance: '100m', date: '2024-11-22', result: 57.50, event: 'XXXI –û—Ç–∫—Ä—ã—Ç—ã–π –ö—É–±–æ–∫ –†–æ—Å—Å–∏–∏', city: '–ö–∞–∑–∞–Ω—å' },
                    { distance: '100m', date: '2025-11-28', result: 56.76, event: 'XXXII –û—Ç–∫—Ä—ã—Ç—ã–π –ö—É–±–æ–∫ –†–æ—Å—Å–∏–∏', city: '–ö–∞–∑–∞–Ω—å' },
                    // 200 –º –Ω–∞ —Å–ø–∏–Ω–µ
                    { distance: '200m', date: '2024-11-21', result: 132.04, event: 'XXXI –û—Ç–∫—Ä—ã—Ç—ã–π –ö—É–±–æ–∫ –†–æ—Å—Å–∏–∏', city: '–ö–∞–∑–∞–Ω—å' }
                ],
                '50': [
                    // 50 –º –Ω–∞ —Å–ø–∏–Ω–µ
                    { distance: '50m', date: '2024-03-01', result: 27.44, event: '–ß–ú', city: '–î–æ—Ö–∞' },
                    { distance: '50m', date: '2024-03-01', result: 27.80, event: '–ß–ú', city: '–î–æ—Ö–∞' },
                    { distance: '50m', date: '2024-03-02', result: 27.98, event: '–ß–ú', city: '–î–æ—Ö–∞' , videoUrl: 'https://rutube.ru/video/fa5d0ba77064626bbec4b14957c8c301/'},
                    { distance: '50m', date: '2024-04-06', result: 27.21, event: '–ö—É–±–æ–∫ –†–æ—Å—Å–∏–∏', city: '–û–±–Ω–∏–Ω—Å–∫', videoUrl:'https://rutube.ru/video/0f0aeaef2103341dcc8d5e5362bd185a/' },
                    { distance: '50m', date: '2024-04-07', result: 27.41, event: '–ö—É–±–æ–∫ –†–æ—Å—Å–∏–∏', city: '–û–±–Ω–∏–Ω—Å–∫', videoUrl:'https://rutube.ru/video/78a669802cdbcfb354102ae386470304/' },
                    { distance: '50m', date: '2024-04-07', result: 27.23, event: '–ö—É–±–æ–∫ –†–æ—Å—Å–∏–∏', city: '–û–±–Ω–∏–Ω—Å–∫', videoUrl:'https://rutube.ru/video/a4fe528583f9813b1ca5fb70c7249b4c/' },
                    { distance: '50m', date: '2024-06-15', result: 27.55, event: '–û—Ç–∫—Ä—ã—Ç—ã–π –ü–µ—Ç–µ—Ä–±—É—Ä–≥', city: '–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥', videoUrl: 'https://rutube.ru/video/f4a48551a60739782a7639304143378a/' },
                    { distance: '50m', date: '2024-06-16', result: 27.55, event: '–û—Ç–∫—Ä—ã—Ç—ã–π –ü–µ—Ç–µ—Ä–±—É—Ä–≥', city: '–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥', videoUrl: 'https://rutube.ru/video/2397316d2e7c61e069de6121ea6d209a/' },
                    { distance: '50m', date: '2024-06-16', result: 27.33, event: '–û—Ç–∫—Ä—ã—Ç—ã–π –ü–µ—Ç–µ—Ä–±—É—Ä–≥', city: '–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥', videoUrl: 'https://rutube.ru/video/d4922b1464f746ee7a5ce70b775f0bbc/' },
                    { distance: '50m', date: '2024-09-21', result: 27.35, event: '–°–∞—Ö–ú–∞—Å—Ç–µ—Ä—Å', city: '–Æ–∂–Ω–æ-–°–∞—Ö–∞–ª–∏–Ω—Å–∫', videoUrl: 'https://rutube.ru/video/private/b721d0bdb9ec59df03f7221ab85ae4e2/?p=9k7gx-VNONRPV0ydZnSZaw' },
                    { distance: '50m', date: '2024-09-21', result: 27.54, event: '–°–∞—Ö–ú–∞—Å—Ç–µ—Ä—Å', city: '–Æ–∂–Ω–æ-–°–∞—Ö–∞–ª–∏–Ω—Å–∫', videoUrl: '' },
                    { distance: '50m', date: '2025-03-28', result: 27.90, event: '–ß–µ–º–ø–∏–æ–Ω–∞—Ç –†–æ—Å—Å–∏–∏', city: '–ö–∞–∑–∞–Ω—å', videoUrl: '' },
                    { distance: '50m', date: '2025-03-28', result: 27.79, event: '–ß–µ–º–ø–∏–æ–Ω–∞—Ç –†–æ—Å—Å–∏–∏', city: '–ö–∞–∑–∞–Ω—å' , videoUrl: 'https://rutube.ru/video/2da837a5816cda8f01b43e5d2eec2f42/'},
                    { distance: '50m', date: '2025-03-29', result: 27.76, event: '–ß–µ–º–ø–∏–æ–Ω–∞—Ç –†–æ—Å—Å–∏–∏', city: '–ö–∞–∑–∞–Ω—å', videoUrl: 'https://rutube.ru/video/2808098ad5c5decf32e2535f829d5256/' },
                    { distance: '50m', date: '2025-06-07', result: 27.95, event: '–û—Ç–∫—Ä—ã—Ç—ã–π –ü–µ—Ç–µ—Ä–±—É—Ä–≥', city: '–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥', videoUrl: '' },
                    { distance: '50m', date: '2025-06-08', result: 27.97, event: '–û—Ç–∫—Ä—ã—Ç—ã–π –ü–µ—Ç–µ—Ä–±—É—Ä–≥', city: '–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥', videoUrl: '' },
                    { distance: '50m', date: '2025-06-08', result: 27.91, event: '–û—Ç–∫—Ä—ã—Ç—ã–π –ü–µ—Ç–µ—Ä–±—É—Ä–≥', city: '–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥' , videoUrl: ''},
                    { distance: '50m', date: '2025-08-13', result: 27.25, event: '–ß–ú –ú–∞—Å—Ç–µ—Ä—Å', city: '–°–∏–Ω–≥–∞–ø—É—Ä', videoUrl: '' , videoUrl: ''},
                    { distance: '50m', date: '2025-08-13', result: 27.31, event: '–ß–ú –ú–∞—Å—Ç–µ—Ä—Å', city: '–°–∏–Ω–≥–∞–ø—É—Ä', videoUrl: '' , videoUrl: ''},
                    { distance: '50m', date: '2025-08-13', result: 26.99, event: '–ß–ú –ú–∞—Å—Ç–µ—Ä—Å', city: '–°–∏–Ω–≥–∞–ø—É—Ä', videoUrl: '', videoUrl: '' },
					{ distance: '50m', date: '2026-02-11', result: 27.27, event: 'Open masters games', city: 'Abu-Dhabi', videoUrl: '' },
					{ distance: '50m', date: '2026-02-21', result: 27.28, event: 'Open masters games', city: 'Abu-Dhabi', videoUrl: '' },
                    // 100 –º –Ω–∞ —Å–ø–∏–Ω–µ
                    { distance: '100m', date: '2024-02-28', result: 61.36, event: '–ß–ú', city: '–î–æ—Ö–∞', videoUrl: 'https://rutube.ru/video/cc311fd26cb2b313ea5cf79d7c2441e6/' },
                    { distance: '100m', date: '2024-04-03', result: 60.64, event: '–ö—É–±–æ–∫ –†–æ—Å—Å–∏–∏', city: '–û–±–Ω–∏–Ω—Å–∫', videoUrl: 'https://rutube.ru/video/16ee70f8843276727e6e92ba16fd5750/'},
                    { distance: '100m', date: '2024-09-20', result: 60.88, event: '–°–∞—Ö–ú–∞—Å—Ç–µ—Ä—Å', city: '–Æ–∂–Ω–æ-–°–∞—Ö–∞–ª–∏–Ω—Å–∫', videoUrl: 'https://rutube.ru/video/private/7eba443e8b261056eca05049542b1b61/?p=HyJKuUnl5Kjz5dnoYNi2ng' },
                    { distance: '100m', date: '2025-03-28', result: 61.57, event: '–ß–µ–º–ø–∏–æ–Ω–∞—Ç –†–æ—Å—Å–∏–∏', city: '–ö–∞–∑–∞–Ω—å', videoUrl: 'https://rutube.ru/video/1d75c1f2cf84207e64abc5688e8f848c/' },
                    { distance: '100m', date: '2025-06-07', result: 63.91, event: '–û—Ç–∫—Ä—ã—Ç—ã–π –ü–µ—Ç–µ—Ä–±—É—Ä–≥', city: '–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥', videoUrl: 'https://rutube.ru/video/164909cceafa248e6f230de8a549e218/' },
                    { distance: '100m', date: '2025-08-12', result: 59.99, event: '–ß–ú –ú–∞—Å—Ç–µ—Ä—Å', city: '–°–∏–Ω–≥–∞–ø—É—Ä', videoUrl: '' },
					{ distance: '100m', date: '2026-02-10', result: 60.78, event: 'Open masters games', city: 'Abu-Dhabi', videoUrl: '' }
                ]
            };

            // –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞—Ç—ã
            function formatDate(dateStr) {
                const d = new Date(dateStr);
                return d.toLocaleDateString('ru-RU', { day: '2-digit', month: '2-digit', year: 'numeric' });
            }

            // –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏
            function formatTime(seconds) {
                if (!seconds && seconds !== 0) return '‚Äî';
                const mins = Math.floor(seconds / 60);
                const secs = (seconds % 60).toFixed(2);
                return `${mins.toString().padStart(2, '0')}:${secs.padStart(5, '0')}`;
            }

            // –ü–æ–ª—É—á–µ–Ω–∏–µ –ª—É—á—à–µ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –∑–∞ –≥–æ–¥ –¥–ª—è –¥–∏—Å—Ç–∞–Ω—Ü–∏–∏
            function getBestByYear(poolType, distance) {
                const results = allResults[poolType].filter(r => r.distance === distance);
                if (results.length === 0) return {};
                
                const byYear = {};
                results.forEach(r => {
                    const year = new Date(r.date).getFullYear();
                    if (!byYear[year] || r.result < byYear[year]) {
                        byYear[year] = r.result;
                    }
                });
                return byYear;
            }

            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü –ª—É—á—à–∏—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
            function updateBestTables() {
                const best25Body = document.getElementById('best25Body');
                const best50Body = document.getElementById('best50Body');
                
                // 25 –º
                const best25_50 = getBestByYear('25', '50m');
                const best25_100 = getBestByYear('25', '100m');
                const best25_200 = getBestByYear('25', '200m');
                
                best25Body.innerHTML = `
                    <tr><td>50 –º –Ω–∞ —Å–ø–∏–Ω–µ</td><td>2025</td><td><span class="result-value">${formatTime(best25_50['2025'])}</span></td></tr>
                    <tr><td>100 –º –Ω–∞ —Å–ø–∏–Ω–µ</td><td>2025</td><td><span class="result-value">${formatTime(best25_100['2025'])}</span></td></tr>
                    <tr><td>200 –º –Ω–∞ —Å–ø–∏–Ω–µ</td><td>2024</td><td><span class="result-value">${formatTime(best25_200['2024'])}</span></td></tr>
                `;
                
                // 50 –º
                const best50_50 = getBestByYear('50', '50m');
                const best50_100 = getBestByYear('50', '100m');
                const best50_200 = getBestByYear('50', '200m');
                
                let best50_200_html = (best50_200 && best50_200['2025']) ? 
                    `<span class="result-value">${formatTime(best50_200['2025'])}</span>` : 
                    '<span class="no-data">–Ω–µ—Ç –¥–∞–Ω–Ω—ã—Ö</span>';
                
                best50Body.innerHTML = `
                    <tr><td>50 –º –Ω–∞ —Å–ø–∏–Ω–µ</td><td>2025</td><td><span class="result-value">${formatTime(best50_50['2025'])}</span></td></tr>
                    <tr><td>100 –º –Ω–∞ —Å–ø–∏–Ω–µ</td><td>2025</td><td><span class="result-value">${formatTime(best50_100['2025'])}</span></td></tr>
                    <tr><td>200 –º –Ω–∞ —Å–ø–∏–Ω–µ</td><td>‚Äî</td><td>${best50_200_html}</td></tr>
                `;
            }

            // –û—Ç—Ä–∏—Å–æ–≤–∫–∞ –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –±–ª–æ–∫–∞ —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ (—Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –ø–æ—Ä—è–¥–∫–∞)
            function renderDetailedResults(poolType, filterDiscipline = 'all') {
                const container = document.getElementById('detailedResultsContainer');
                const results = allResults[poolType];
                
                // –ì—Ä—É–ø–ø–∏—Ä—É–µ–º –ø–æ –¥–∏—Å—Ü–∏–ø–ª–∏–Ω–∞–º, –°–û–•–†–ê–ù–Ø–Ø –ò–°–•–û–î–ù–´–ô –ü–û–†–Ø–î–û–ö
                const grouped = {
                    '50m': results.filter(r => r.distance === '50m'),
                    '100m': results.filter(r => r.distance === '100m'),
                    '200m': results.filter(r => r.distance === '200m')
                };

                // –ù–∞—Ö–æ–¥–∏–º –ª—É—á—à–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –¥–ª—è –∫–∞–∂–¥–æ–π –¥–∏—Å—Ü–∏–ø–ª–∏–Ω—ã
                const bestResults = {
                    '50m': grouped['50m'].length ? Math.min(...grouped['50m'].map(r => r.result)) : null,
                    '100m': grouped['100m'].length ? Math.min(...grouped['100m'].map(r => r.result)) : null,
                    '200m': grouped['200m'].length ? Math.min(...grouped['200m'].map(r => r.result)) : null
                };

                const disciplines = [
                    { id: '50m', name: '50 –º –Ω–∞ —Å–ø–∏–Ω–µ' },
                    { id: '100m', name: '100 –º –Ω–∞ —Å–ø–∏–Ω–µ' },
                    { id: '200m', name: '200 –º –Ω–∞ —Å–ø–∏–Ω–µ' }
                ];

                let html = '';
                
                for (const disc of disciplines) {
                    if (filterDiscipline !== 'all' && filterDiscipline !== disc.id) continue;
                    
                    const discResults = grouped[disc.id];
                    if (discResults.length === 0) {
                        if (filterDiscipline !== 'all') {
                            html += `<div class="discipline-section"><div class="discipline-title">${disc.name}</div>`;
                            html += '<div class="no-data-message">–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è</div></div>';
                        }
                        continue;
                    }

                    html += `<div class="discipline-section">`;
                    html += `<div class="discipline-title">${disc.name}</div>`;
                    html += `<div class="results-grid">`;
                    html += `<div class="results-grid-header">`;
                    html += `<span>–°–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏–µ</span><span>–ì–æ–¥</span><span>–ì–æ—Ä–æ–¥</span><span>–†–µ–∑—É–ª—å—Ç–∞—Ç</span>`;
                    html += `</div>`;

                    // –ü—Ä–æ—Ö–æ–¥–∏–º –ø–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º –≤ —Ç–æ–º –∂–µ –ø–æ—Ä—è–¥–∫–µ, –∫–∞–∫ –æ–Ω–∏ –æ–±—ä—è–≤–ª–µ–Ω—ã –≤ –º–∞—Å—Å–∏–≤–µ
                    discResults.forEach(r => {
                        const isBest = (r.result === bestResults[disc.id]);
							html += `<div class="results-grid-row ${isBest ? 'best-result' : ''}">`;
							html += `<span><strong>${r.event}</strong>${r.videoUrl ? ' <a href="' + r.videoUrl + '" target="_blank" class="video-link">üìπ</a>' : ''}</span>`;
							html += `<span>${new Date(r.date).getFullYear()}</span>`;
							html += `<span>${r.city}</span>`;
							html += `<span class="result-time">${formatTime(r.result)}</span>`;
							html += `</div>`;
                    });

                    html += `</div></div>`;
                }

                container.innerHTML = html;
            }

            // –î–∞–Ω–Ω—ã–µ –¥–ª—è –≥—Ä–∞—Ñ–∏–∫–æ–≤
            function getChartData(poolType) {
                return {
                    '50m': getBestByYear(poolType, '50m'),
                    '100m': getBestByYear(poolType, '100m'),
                    '200m': getBestByYear(poolType, '200m')
                };
            }

            // –°–æ–∑–¥–∞–Ω–∏–µ –ª–∏–Ω–µ–π–Ω–æ–≥–æ –≥—Ä–∞—Ñ–∏–∫–∞ —Å –§–ò–ö–°–ò–†–û–í–ê–ù–ù–´–ú –ú–ê–°–®–¢–ê–ë–û–ú
            function createLineChart(containerId, data) {
                const container = document.getElementById(containerId);
                if (!container) return;
                
                const years = ['2023', '2024', '2025'];
                const values = years.map(y => data[y] || null);
                
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ —Ö–æ—Ç—å –æ–¥–Ω–æ –∑–Ω–∞—á–µ–Ω–∏–µ
                if (values.every(v => v === null)) {
                    container.innerHTML = '<div class="no-data-message">–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö</div>';
                    return;
                }
                
                // –ù–∞—Ö–æ–¥–∏–º –º–∏–Ω –∏ –º–∞–∫—Å –¥–ª—è –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è (–∏–≥–Ω–æ—Ä–∏—Ä—É–µ–º null)
                const existingValues = values.filter(v => v !== null);
                const maxVal = Math.max(...existingValues) * 1.1;
                const minVal = Math.min(...existingValues) * 0.9;
                const range = maxVal - minVal;
                
                // –°–æ–∑–¥–∞–µ–º —Ç–æ—á–∫–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –≥–æ–¥–∞ (–¥–∞–∂–µ –µ—Å–ª–∏ –¥–∞–Ω–Ω—ã—Ö –Ω–µ—Ç, —Ç–æ—á–∫–∞ –Ω–µ —Ä–∏—Å—É–µ—Ç—Å—è)
                const points = [];
                for (let i = 0; i < years.length; i++) {
                    if (values[i] !== null) {
                        const x = 30 + i * 80;
                        const y = 140 - ((values[i] - minVal) / range) * 100;
                        points.push({ x, y, value: values[i], year: years[i] });
                    }
                }

                // –õ–∏–Ω–∏—è —Ä–∏—Å—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –µ—Å—Ç—å –º–∏–Ω–∏–º—É–º 2 —Ç–æ—á–∫–∏
                let lineElement = '';
                if (points.length > 1) {
                    lineElement = `<polyline points="${points.map(p => `${p.x},${p.y}`).join(' ')}" fill="none" stroke="#7c3aed" stroke-width="2.5" />`;
                }

                // –°—Ç—Ä–æ–∏–º SVG —Å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –ø–æ–∑–∏—Ü–∏—è–º–∏ –¥–ª—è –≤—Å–µ—Ö –≥–æ–¥–æ–≤
                const svg = `
                    <svg class="line-graph" viewBox="0 0 260 160" preserveAspectRatio="xMidYMid meet">
                        <line x1="20" y1="140" x2="240" y2="140" stroke="#cbd5e1" stroke-width="1" />
                        <line x1="20" y1="20" x2="20" y2="140" stroke="#cbd5e1" stroke-width="1" />
                        ${lineElement}
                        ${points.map(p => `<circle cx="${p.x}" cy="${p.y}" r="4" fill="white" stroke="#7c3aed" stroke-width="2" />`).join('')}
                        ${years.map((year, i) => `<text x="${20 + i * 80}" y="158" font-size="8" fill="#475569">${year}</text>`).join('')}
                        ${points.map(p => `<text x="${p.x - 15}" y="${p.y - 8}" font-size="7" fill="#7c3aed" font-weight="bold">${p.value.toFixed(2)}</text>`).join('')}
                    </svg>
                `;

                container.innerHTML = svg;
            }

            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∏–∫–æ–≤
            function updateCharts(poolType) {
                const data = getChartData(poolType);
                const chartsGrid = document.getElementById('chartsGrid');
                
                chartsGrid.innerHTML = '';
                
                // 50 –º
                const card50 = document.createElement('div');
                card50.className = 'chart-card clickable';
                card50.id = 'chart-card-50m';
                card50.innerHTML = `
                    <h3>50 –º –Ω–∞ —Å–ø–∏–Ω–µ</h3>
                    <div class="chart-container" id="chart50m"></div>
                    <div class="chart-note">${getNote(data['50m'])}</div>
                `;
                chartsGrid.appendChild(card50);
                
                // 100 –º
                const card100 = document.createElement('div');
                card100.className = 'chart-card clickable';
                card100.id = 'chart-card-100m';
                card100.innerHTML = `
                    <h3>100 –º –Ω–∞ —Å–ø–∏–Ω–µ</h3>
                    <div class="chart-container" id="chart100m"></div>
                    <div class="chart-note">${getNote(data['100m'])}</div>
                `;
                chartsGrid.appendChild(card100);
                
                // 200 –º
                const card200 = document.createElement('div');
                card200.className = 'chart-card clickable';
                card200.id = 'chart-card-200m';
                card200.innerHTML = `
                    <h3>200 –º –Ω–∞ —Å–ø–∏–Ω–µ</h3>
                    <div class="chart-container" id="chart200m"></div>
                    <div class="chart-note">${getNote(data['200m'])}</div>
                `;
                chartsGrid.appendChild(card200);
                
                // –†–∏—Å—É–µ–º –≥—Ä–∞—Ñ–∏–∫–∏
                createLineChart('chart50m', data['50m']);
                createLineChart('chart100m', data['100m']);
                createLineChart('chart200m', data['200m']);
                
                // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–ª–∏–∫–∞
                document.getElementById('chart-card-50m').addEventListener('click', () => showDetailedChart(poolType, '50m'));
                document.getElementById('chart-card-100m').addEventListener('click', () => showDetailedChart(poolType, '100m'));
                document.getElementById('chart-card-200m').addEventListener('click', () => showDetailedChart(poolType, '200m'));
            }

            function getNote(data) {
                if (data['2023'] && data['2025']) {
                    return `‚¨áÔ∏è ${(data['2023'] - data['2025']).toFixed(2)} —Å–µ–∫ –∑–∞ 2 –≥–æ–¥–∞`;
                }
                return '–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞';
            }

            // –ü–æ–∫–∞–∑ –ø–æ–¥—Ä–æ–±–Ω–æ–π —Ç–æ—á–µ—á–Ω–æ–π –¥–∏–∞–≥—Ä–∞–º–º—ã (–° –ü–†–ê–í–ò–õ–¨–ù–´–ú –í–†–ï–ú–ï–ù–ù–´–ú –ú–ê–°–®–¢–ê–ë–û–ú)
            let charts = {};

            function showDetailedChart(poolType, distance) {
                const panel = document.getElementById(`detailPanel${distance.replace('m', '')}`);
                const list = document.getElementById(`detailList${distance.replace('m', '')}`);
                const canvasId = `detailChart${distance.replace('m', '')}`;
                
                const results = allResults[poolType]
                    .filter(r => r.distance === distance); // –ë–ï–ó –°–û–†–¢–ò–†–û–í–ö–ò - —Å–æ—Ö—Ä–∞–Ω—è–µ–º –ø–æ—Ä—è–¥–æ–∫ –∏–∑ –º–∞—Å—Å–∏–≤–∞
                
                if (results.length === 0) {
                    list.innerHTML = '<div class="detail-item">–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è</div>';
                    if (charts[distance]) charts[distance].destroy();
                    panel.style.display = 'block';
                    return;
                }
                
                list.innerHTML = results.map(r => `
                    <div class="detail-item">
                        <span class="date">${formatDate(r.date)}</span>
                        <span class="result">${r.result.toFixed(2)}</span>
                        <span class="event">${r.event}, ${r.city}</span>
                    </div>
                `).join('');
                
                if (charts[distance]) charts[distance].destroy();
                
                const ctx = document.getElementById(canvasId).getContext('2d');
                charts[distance] = new Chart(ctx, {
                    type: 'scatter',
                    data: {
                        datasets: [{
                            label: '–†–µ–∑—É–ª—å—Ç–∞—Ç (—Å–µ–∫)',
                            data: results.map(r => ({ 
                                x: new Date(r.date).getTime(), // –ò—Å–ø–æ–ª—å–∑—É–µ–º timestamp –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –º–∞—Å—à—Ç–∞–±–∞
                                y: r.result 
                            })),
                            backgroundColor: '#7c3aed',
                            pointRadius: 6,
                            pointHoverRadius: 8
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        scales: {
                            x: {
                                type: 'time',
                                time: {
                                    unit: 'month',
                                    displayFormats: {
                                        month: 'MMM yyyy'
                                    },
                                    tooltipFormat: 'dd MMM yyyy'
                                },
                                title: { 
                                    display: true, 
                                    text: '–î–∞—Ç–∞'
                                },
                                ticks: {
                                    maxRotation: 45,
                                    minRotation: 45
                                }
                            },
                            y: {
                                title: { 
                                    display: true, 
                                    text: '–í—Ä–µ–º—è (—Å–µ–∫)' 
                                },
                                reverse: true,
                                beginAtZero: false
                            }
                        },
                        plugins: {
                            tooltip: {
                                callbacks: {
                                    label: (context) => {
                                        const r = results[context.dataIndex];
                                        return [
                                            `–†–µ–∑—É–ª—å—Ç–∞—Ç: ${r.result.toFixed(2)} —Å–µ–∫`,
                                            `–°–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏–µ: ${r.event}`,
                                            `–ì–æ—Ä–æ–¥: ${r.city}`,
                                            `–î–∞—Ç–∞: ${formatDate(r.date)}`
                                        ];
                                    }
                                }
                            },
                            legend: {
                                display: false
                            }
                        }
                    }
                });
                
                // –°–∫—Ä—ã–≤–∞–µ–º –¥—Ä—É–≥–∏–µ –ø–∞–Ω–µ–ª–∏
                ['50', '100', '200'].forEach(d => {
                    if (d !== distance.replace('m', '')) {
                        document.getElementById(`detailPanel${d}`).style.display = 'none';
                    }
                });
                
                panel.style.display = 'block';
            }

            // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≤–∫–ª–∞–¥–æ–∫
            const tabs = document.querySelectorAll('.pool-tab');
            const best25 = document.getElementById('best25');
            const best50 = document.getElementById('best50');
            const detailedResults = document.getElementById('detailedResults');
            
            function activateTab(selected) {
                tabs.forEach(tab => tab.classList.remove('active'));
                selected.classList.add('active');

                const is25 = selected.textContent.includes('25');
                const poolType = is25 ? '25' : '50';
                
                best25.style.display = is25 ? 'table' : 'none';
                best50.style.display = is25 ? 'none' : 'table';
                
                if (detailedResults.classList.contains('visible')) {
                    const activeFilter = document.querySelector('.discipline-btn.active').dataset.discipline;
                    renderDetailedResults(poolType, activeFilter);
                }
                
                updateCharts(poolType);
                
                // –°–∫—Ä—ã–≤–∞–µ–º –≤—Å–µ –¥–µ—Ç–∞–ª—å–Ω—ã–µ –ø–∞–Ω–µ–ª–∏
                ['50', '100', '200'].forEach(d => {
                    document.getElementById(`detailPanel${d}`).style.display = 'none';
                });
            }

            tabs.forEach(tab => {
                tab.addEventListener('click', () => activateTab(tab));
            });

            // –ö–Ω–æ–ø–∫–∞ "–°–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã"
            const viewAllBtn = document.getElementById('viewAllBtn');
            
            viewAllBtn.addEventListener('click', function() {
                if (detailedResults.classList.contains('visible')) {
                    detailedResults.classList.remove('visible');
                    viewAllBtn.textContent = '–°–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã ‚Üí';
                } else {
                    detailedResults.classList.add('visible');
                    viewAllBtn.textContent = '–°–∫—Ä—ã—Ç—å –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ ‚Üê';
                    
                    const activeTab = document.querySelector('.pool-tab.active');
                    const is25 = activeTab.textContent.includes('25');
                    const activeFilter = document.querySelector('.discipline-btn.active').dataset.discipline;
                    renderDetailedResults(is25 ? '25' : '50', activeFilter);
                }
            });

            // –§–∏–ª—å—Ç—Ä –ø–æ –¥–∏—Å—Ü–∏–ø–ª–∏–Ω–∞–º
            const filterBtns = document.querySelectorAll('.discipline-btn');
            filterBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    filterBtns.forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    
                    if (detailedResults.classList.contains('visible')) {
                        const activeTab = document.querySelector('.pool-tab.active');
                        const is25 = activeTab.textContent.includes('25');
                        renderDetailedResults(is25 ? '25' : '50', this.dataset.discipline);
                    }
                });
            });

            // –ó–∞–∫—Ä—ã—Ç–∏–µ –¥–µ—Ç–∞–ª—å–Ω—ã—Ö –ø–∞–Ω–µ–ª–µ–π
            document.querySelectorAll('.close-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const distance = this.dataset.close;
                    document.getElementById(`detailPanel${distance}`).style.display = 'none';
                });
            });

            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
            updateBestTables();
            updateCharts('25');
        })();
    </script>
</body>
</html>
